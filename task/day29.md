# Day 29: 애플리케이션 배포 및 안정화

## 목표

최종 점검을 마친 애플리케이션을 선택한 호스팅 플랫폼의 운영 환경에 배포하고, 배포 후 시스템이 안정적으로 동작하는지 모니터링하며 필요한 조치를 취합니다.

## 작업 목록

1.  **배포 전략 선택 (선택 사항):** 애플리케이션의 중요도 및 특성에 따라 적절한 배포 전략(예: Rolling, Blue/Green, Canary)을 결정합니다.
2.  **호스팅 플랫폼 선택 및 설정:** 애플리케이션 요구사항(성능, 확장성, 비용 등)에 맞는 호스팅 플랫폼(Vercel, Fly.io, Netlify, AWS, GCP, Azure 등)을 선택하고 배포 환경을 설정합니다.
3.  **배포 실행:** CI/CD 파이프라인 또는 수동 배포 절차를 통해 애플리케이션을 운영 환경에 배포합니다.
4.  **배포 후 검증:** 배포된 애플리케이션이 정상적으로 동작하는지 주요 기능을 빠르게 확인합니다 (Smoke Test).
5.  **모니터링 및 로깅 확인:** 설정된 모니터링 도구(Sentry, Datadog 등) 및 로깅 시스템에서 데이터가 정상적으로 수집되는지 확인하고, 특이사항이 없는지 관찰합니다.
6.  **초기 안정화:** 배포 직후 사용자 트래픽 및 시스템 부하를 주시하며 예상치 못한 문제 발생 시 신속하게 대응합니다.
7.  **롤백 계획 실행 (필요시):** 배포 후 심각한 문제가 발생하여 즉시 해결이 어려운 경우, 사전에 준비된 롤백 절차에 따라 이전 버전으로 되돌립니다.
8.  **배포 공지 (해당 시):** 내부 팀 또는 사용자에게 새로운 버전 배포 완료를 공지합니다.

## 1. 배포 전략 선택 (참고)

-   **Rolling Update:** 서버 인스턴스를 하나씩 순차적으로 새 버전으로 교체합니다. 무중단 배포가 가능하지만, 배포 중 일시적으로 구버전과 신버전이 혼재될 수 있습니다.
-   **Blue/Green Deployment:** 동일한 환경(Green)을 하나 더 준비하여 새 버전을 배포하고, 테스트 후 트래픽을 이전 환경(Blue)에서 새 환경(Green)으로 일괄 전환합니다. 롤백이 빠르고 안전하지만, 자원이 두 배로 필요합니다.
-   **Canary Deployment:** 새 버전을 소수의 사용자에게만 먼저 공개(카나리 릴리즈)하고, 문제가 없음을 확인한 후 점진적으로 모든 사용자에게 확대합니다. 위험을 최소화할 수 있지만, 구현 및 관리가 복잡할 수 있습니다.

(일반적으로 Vercel, Fly.io 같은 플랫폼은 자체적인 배포 메커니즘을 통해 Rolling Update와 유사한 방식으로 무중단 배포를 지원합니다.)

## 2. 호스팅 플랫폼 선택 및 설정

Day 28에서 선택하고 설정한 호스팅 플랫폼에 운영 환경 설정을 최종 확인합니다.

-   **플랫폼 선택 기준:**
    -   **Serverless (Vercel, Netlify):** 빠른 배포, 자동 확장, 간단한 설정. 정적 사이트 및 풀스택 앱에 적합.
    -   **Containers (Fly.io, Google Cloud Run, AWS Fargate):** 유연한 환경 제어, 특정 런타임/의존성 필요시 적합.
    -   **IaaS/PaaS (AWS EC2/Elastic Beanstalk, GCP Compute Engine/App Engine, Azure VM/App Service):** 완전한 인프라 제어 권한 필요시.
-   **운영 환경 설정 확인:**
    -   리전(Region) 선택 (사용자 지리적 위치 고려)
    -   컴퓨팅 자원(CPU, 메모리) 및 스케일링 설정
    -   연결된 데이터베이스, 스토리지 등 외부 서비스 접근 정보
    -   사용자 정의 도메인 및 SSL/TLS 인증서 설정
    -   환경 변수 최종 확인 (Day 28 내용)

## 3. 배포 실행

Day 28에서 설정한 CI/CD 파이프라인 또는 배포 스크립트를 실행합니다.

**CI/CD (GitHub Actions 예시):**
`main` 브랜치에 코드를 푸시하면 `.github/workflows/deploy.yml` 파일에 정의된 워크플로우가 자동으로 실행됩니다.

!!!bash
# 변경사항 커밋 및 푸시
git add .\ngit commit -m "Prepare for initial production deployment"\ngit push origin main\n\n# GitHub Actions 대시보드에서 배포 진행 상황 확인\n!!!\n\n**수동 배포 (플랫폼 CLI 예시):**\n\n!!!bash\n# Vercel CLI\nnpm run build\nvercel deploy --prod\n\n# Fly.io CLI\n# fly.toml 파일 설정 확인\nflyctl deploy --remote-only\n!!!\n\n## 4. 배포 후 검증 (Smoke Test)\n\n배포가 완료된 직후, 운영 환경 URL에 접속하여 핵심 기능들이 최소한으로 동작하는지 빠르게 확인합니다.\n\n-   메인 페이지 로딩 확인\n-   로그인/회원가입 기능 확인\n-   가장 중요한 데이터 목록 페이지 (예: 제품 목록) 로딩 확인\n-   간단한 데이터 생성/수정 기능 확인\n-   개발자 도구(F12) 콘솔에 오류 메시지가 없는지 확인\n\n## 5. 모니터링 및 로깅 확인\n\n설정한 오류 추적(Sentry 등) 및 성능 모니터링(Datadog 등) 대시보드에 접속하여 배포된 버전에서 새로운 데이터가 수집되는지 확인합니다.\n\n-   **오류 추적:** 배포 직후 예상치 못한 오류가 급증하지 않는지 확인합니다.\n-   **성능 모니터링:** 서버 응답 시간, CPU/메모리 사용률 등이 안정적인 범위 내에 있는지 확인합니다.\n-   **로깅 시스템:** 실시간 로그를 확인하며 비정상적인 패턴이나 오류 로그가 없는지 확인합니다.\n\n## 6. 초기 안정화\n\n배포 후 일정 시간(수 분 ~ 수 시간) 동안 시스템 상태를 주의 깊게 모니터링합니다.\n\n-   실제 사용자 트래픽 유입에 따른 시스템 부하 변화 관찰\n-   데이터베이스 연결, 외부 API 호출 등 주요 의존성 관련 지표 확인\n-   사용자 피드백 채널(문의, 커뮤니티 등) 주시\n\n## 7. 롤백 계획 실행 (필요시)\n\n배포 후 치명적인 오류가 발생하여 서비스 이용이 불가능하거나 데이터 정합성 문제가 발생하는 등 긴급 상황 시, 이전 버전으로 되돌리는 롤백을 실행합니다.\n\n-   **Vercel:** Vercel 대시보드에서 이전 배포(Deployment)를 선택하고 "Promote to Production"을 클릭하여 즉시 롤백 가능합니다.\n-   **Fly.io:** 이전 Docker 이미지를 다시 배포하거나, Blue/Green 전략을 사용했다면 이전 환경으로 트래픽을 전환합니다.\n-   **롤백 절차:** 플랫폼별 롤백 방법을 사전에 숙지하고 문서화해두는 것이 중요합니다.\n\n## 8. 배포 공지\n\n배포 및 안정화 작업이 성공적으로 완료되면 관련 팀이나 사용자에게 업데이트 내용을 공지합니다.\n\n-   새로운 기능, 개선 사항, 버그 수정 내역 요약\n-   변경 사항으로 인해 사용자에게 영향이 있는 경우 안내\n\n## 다음 단계\n\n애플리케이션 배포 및 초기 안정화가 완료되었습니다! Day 30에서는 프로젝트 회고 및 향후 개선 계획 수립을 진행하며 30일 챌린지를 마무리합니다. 