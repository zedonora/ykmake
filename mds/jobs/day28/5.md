# 최종 기능 / 보안 / 성능 테스트

운영 환경 배포 직전에 수행하는 마지막 점검 단계입니다. 애플리케이션이 의도한 대로 작동하는지, 보안 취약점은 없는지, 예상되는 사용자 부하를 처리할 수 있는 성능을 갖추었는지 종합적으로 확인합니다.

## 1. 최종 기능 테스트 (수동 및 자동화)

배포될 버전의 애플리케이션을 사용하여 주요 기능 및 사용자 시나리오를 검증합니다. 스테이징(Staging) 환경 또는 운영 환경과 거의 동일하게 구성된 환경에서 수행하는 것이 이상적입니다.

-   **핵심 기능 검증:**
    -   회원가입, 로그인, 로그아웃 등 인증 플로우 전체를 테스트합니다.
    -   애플리케이션의 주요 기능(예: 게시물 작성/읽기/수정/삭제, 상품 조회/주문, 데이터 조회/입력 등)을 실제 사용자의 입장에서 시나리오 기반으로 테스트합니다.
    -   이전에 구현한 유닛 테스트, 통합 테스트, E2E 테스트 스위트를 실행하여 자동화된 검증을 수행합니다. (`npm test` 또는 `yarn test`)
-   **데이터 유효성 검사 확인:**
    -   폼(Form) 입력 시 Zod 등으로 정의한 유효성 검사 규칙(필수 필드, 형식, 길이 등)이 올바르게 작동하는지 확인합니다.
    -   유효하지 않은 데이터를 입력했을 때 적절한 오류 메시지가 사용자에게 표시되는지 확인합니다.
-   **엣지 케이스(Edge Cases) 테스트:**
    -   비정상적인 입력값(특수문자, 매우 긴 문자열, 경계값 등)을 시도해 봅니다.
    -   네트워크 오류, 서버 오류 발생 시 사용자에게 적절한 피드백이 제공되는지 확인합니다 (Sentry 연동 테스트와 연계).
    -   동시성 문제(예: 여러 사용자가 동시에 동일한 데이터 수정 시도)가 발생할 수 있는 시나리오를 고려하여 테스트합니다 (필요시).
-   **크로스 브라우저/디바이스 테스트:**
    -   주요 타겟 브라우저(Chrome, Firefox, Safari, Edge 등)의 최신 버전에서 UI가 깨지거나 기능이 오작동하지 않는지 확인합니다.
    -   모바일 환경(iOS, Android) 또는 브라우저 개발자 도구의 모바일 시뮬레이터를 사용하여 반응형 디자인과 터치 인터페이스가 정상 작동하는지 확인합니다.

## 2. 보안 테스트

애플리케이션에 잠재적인 보안 취약점이 없는지 점검합니다.

-   **OWASP Top 10 기반 점검 (주요 항목):**
    -   **Injection (인젝션):** SQL Injection, Command Injection 등 사용자 입력값이 쿼리나 명령어의 일부로 해석되어 발생하는 취약점. (ORM 사용 시 기본적으로 방어되지만, 직접 쿼리 작성 부분 주의)
    -   **Broken Authentication (인증 취약점):** 세션 관리(안전한 쿠키 설정, 만료 시간), 비밀번호 정책, 로그인 시도 제한 등이 적절한지 확인합니다.
    -   **Sensitive Data Exposure (민감 데이터 노출):** 비밀번호, API 키 등 민감 정보가 평문으로 저장되거나, 로그에 노출되거나, 클라이언트에 불필요하게 전송되지 않는지 확인합니다. (환경 변수 관리 중요)
    -   **Cross-Site Scripting (XSS):** 사용자 입력값이 필터링 없이 HTML 페이지에 삽입되어 악성 스크립트가 실행될 수 있는 취약점. (React/Remix는 기본적으로 방어하지만, `dangerouslySetInnerHTML` 등 사용 시 주의)
    -   **Cross-Site Request Forgery (CSRF):** 사용자가 자신의 의지와 무관하게 공격자가 의도한 행위(수정, 삭제 등)를 웹사이트에 요청하게 만드는 취약점. (Remix는 CSRF 방지 기능을 제공할 수 있음, 필요시 설정 확인 또는 직접 구현)
    -   **Security Misconfiguration (잘못된 보안 설정):** 불필요한 포트 개방, 디렉토리 리스팅 활성화, 기본 계정 사용, 에러 메시지에 민감 정보 노출 등 설정 오류 점검.
-   **의존성 취약점 스캔:**
    -   `npm audit` 또는 `yarn audit` 명령어를 실행하여 사용 중인 라이브러리(dependencies)에 알려진 보안 취약점이 있는지 확인하고, 보고된 경우 라이브러리를 업데이트하거나 대안을 찾습니다.
    !!!bash
    npm audit
    # 또는
    yarn audit
    !!!
-   **접근 제어 및 권한 검증:**
    -   구현된 RLS(Row Level Security) 정책이 의도대로 작동하여 사용자가 허가된 데이터에만 접근할 수 있는지 다시 확인합니다.
    -   관리자 기능 등 특정 역할(Role)에만 허용된 기능에 일반 사용자가 접근할 수 없는지 확인합니다.
-   **HTTPS 적용 확인:** 운영 환경에서 모든 통신이 HTTPS를 통해 암호화되는지 확인합니다. (브라우저 주소창 자물쇠 아이콘 확인)

## 3. 성능 테스트

애플리케이션이 예상되는 사용자 트래픽을 처리할 수 있는지, 그리고 사용자에게 빠른 응답 속도를 제공하는지 확인합니다.

-   **프론트엔드 성능 측정 (Lighthouse):**
    -   브라우저 개발자 도구의 Lighthouse 탭을 사용하여 주요 페이지의 성능(Performance), 접근성(Accessibility), SEO 등을 측정합니다.
    -   주요 지표 확인:
        -   **LCP (Largest Contentful Paint):** 페이지의 가장 큰 콘텐츠 요소가 렌더링되는 시간 (로드 성능).
        -   **FID (First Input Delay) / INP (Interaction to Next Paint):** 사용자의 첫 상호작용(클릭, 탭 등)에 페이지가 반응하는 시간 (상호작용성).
        -   **CLS (Cumulative Layout Shift):** 페이지 로딩 중 레이아웃이 얼마나 불안정하게 변경되는지 (시각적 안정성).
    -   Lighthouse가 제시하는 개선 사항(Optimize Images, Reduce unused JavaScript 등)을 검토하고 필요한 최적화를 적용합니다.
-   **백엔드/API 응답 시간 측정:**
    -   브라우저 개발자 도구의 `Network` 탭에서 주요 API 요청(데이터 로딩 등)의 응답 시간(TTFB - Time To First Byte, Content Download Time)을 확인합니다.
    -   응답 시간이 과도하게 느린 API가 있다면 원인(느린 데이터베이스 쿼리, 비효율적인 서버 로직 등)을 분석하고 개선합니다.
-   **부하 테스트 (Load Testing) (선택 사항, 필요시):**
    -   예상되는 동시 사용자 수 또는 요청 수를 시뮬레이션하여 애플리케이션(서버, 데이터베이스)이 부하를 견딜 수 있는지 테스트합니다.
    -   k6, Artillery, ApacheBench(ab) 등 부하 테스트 도구를 사용할 수 있습니다.
    -   부하 테스트 중 서버 리소스(CPU, 메모리, 네트워크) 사용률과 응답 시간 변화를 모니터링합니다.
    -   결과를 바탕으로 병목 지점을 식별하고 서버 확장(Scale-up/out), 코드 최적화, 데이터베이스 튜닝 등을 고려합니다.

## 완료 확인

1.  주요 기능 및 사용자 시나리오가 스테이징 또는 운영 유사 환경에서 정상 작동함을 확인했습니다 (수동/자동 테스트 완료).
2.  데이터 유효성 검사 및 엣지 케이스 처리가 정상적으로 이루어짐을 확인했습니다.
3.  주요 브라우저 및 모바일 환경에서 UI/기능이 정상 작동함을 확인했습니다.
4.  OWASP Top 10 기반의 주요 보안 취약점 점검을 수행했으며, 발견된 문제가 있다면 조치했습니다.
5.  `npm audit` / `yarn audit`을 통해 의존성 취약점을 확인하고 조치했습니다.
6.  접근 제어(RLS 등) 및 권한 부여 로직이 올바르게 작동함을 확인했습니다.
7.  Lighthouse 등을 이용한 프론트엔드 성능 측정 결과가 목표 수준을 만족하거나 개선되었습니다.
8.  주요 API 응답 시간이 허용 가능한 범위 내에 있음을 확인했습니다.
9.  (필요시) 부하 테스트를 통해 예상 트래픽 처리 능력을 검증하고 병목 지점을 확인/개선했습니다. 