# Day 29: 사용자 정의 도메인 및 DNS 개념

## 1. 사용자 정의 도메인 (Custom Domain)이란?

사용자 정의 도메인은 사용자가 직접 소유하고 관리하는 고유한 웹 주소(예: `mywebsite.com`, `blog.mycompany.net`)를 의미합니다. 웹사이트나 애플리케이션을 호스팅할 때, 호스팅 플랫폼이 제공하는 기본 도메인(예: `*.vercel.app`, `*.github.io`) 대신 사용자가 선택한 브랜드화된 주소를 사용할 수 있게 해줍니다.

**사용자 정의 도메인 사용의 이점:**

-   **브랜드 인지도 향상:** 기억하기 쉽고 전문적인 인상을 주는 고유한 주소를 통해 브랜드 이미지를 강화합니다.
-   **신뢰도 상승:** 플랫폼 종속적인 주소보다 사용자 정의 도메인이 더 신뢰감을 줄 수 있습니다.
-   **이식성:** 호스팅 플랫폼을 변경하더라도 도메인 주소는 그대로 유지할 수 있습니다.
-   **SEO (검색 엔진 최적화):** 일관된 도메인 사용은 검색 엔진 순위에 긍정적인 영향을 줄 수 있습니다.

## 2. DNS (Domain Name System)란?

DNS는 인터넷의 전화번호부와 같은 역할을 하는 시스템입니다. 사람들은 기억하기 쉬운 도메인 이름(예: `google.com`)을 사용하여 웹사이트에 접속하지만, 컴퓨터 네트워크는 숫자로 이루어진 IP 주소(예: `172.217.160.142`)를 사용하여 통신합니다. DNS는 사용자가 입력한 **도메인 이름을 실제 서버의 IP 주소로 변환**해주는 역할을 수행합니다.

**DNS 작동 방식 (간략화):**

1.  사용자가 웹 브라우저에 도메인 이름(예: `www.example.com`)을 입력합니다.
2.  브라우저(또는 운영체제)는 설정된 DNS 해석기(Resolver - 보통 ISP가 제공)에게 해당 도메인의 IP 주소를 묻습니다.
3.  DNS 해석기는 전 세계에 계층적으로 구성된 DNS 서버들에게 차례대로 질의하여 `www.example.com`에 대한 IP 주소를 찾아냅니다.
4.  DNS 해석기는 찾아낸 IP 주소를 브라우저에게 전달합니다.
5.  브라우저는 해당 IP 주소를 가진 서버에 접속하여 웹 페이지를 요청합니다.

## 3. DNS 레코드 (DNS Records)란?

DNS 레코드는 특정 도메인 이름과 관련된 정보를 담고 있는 설정 항목입니다. 도메인 등록기관(Domain Registrar)의 DNS 관리 시스템에서 설정하며, DNS 서버는 이 레코드 정보를 참조하여 도메인 관련 요청을 처리합니다. Vercel에 사용자 정의 도메인을 연결할 때 주로 사용되는 레코드는 다음과 같습니다:

-   **`A` 레코드 (Address Record):**
    -   **역할:** 도메인 이름(주로 Apex 도메인)을 **IPv4 주소**에 직접 매핑합니다.
    -   **설정 예시 (Vercel):**
        -   호스트/이름: `@` (또는 비워둠 - Apex 도메인을 의미)
        -   유형: `A`
        -   값/주소: Vercel에서 제공하는 IP 주소 (예: `76.76.21.21` - **대시보드 확인 필수**)
-   **`CNAME` 레코드 (Canonical Name Record):**
    -   **역할:** 특정 도메인 이름(주로 서브도메인)을 **다른 정식 도메인 이름(Canonical Name)** 에 대한 별칭(Alias)으로 매핑합니다. 즉, 해당 도메인으로 요청이 오면 연결된 정식 도메인 이름의 DNS 설정을 따라가도록 합니다.
    -   **설정 예시 (Vercel):**
        -   호스트/이름: `www` (또는 `app`, `blog` 등 서브도메인 이름)
        -   유형: `CNAME`
        -   값/대상: Vercel에서 제공하는 정식 도메인 이름 (예: `cname.vercel-dns.com` - **대시보드 확인 필수**)
    -   **주의:** Apex 도메인(`@`)에는 일반적으로 `CNAME` 레코드를 직접 설정할 수 없습니다(DNS 표준 제약). 따라서 Apex 도메인은 보통 `A` 레코드를 사용합니다. (일부 DNS 제공자는 `ALIAS` 또는 `ANAME`이라는 유사 레코드를 통해 Apex 도메인에 CNAME과 비슷한 기능을 제공하기도 합니다.)
-   **`TXT` 레코드 (Text Record):**
    -   **역할:** 도메인과 관련된 임의의 텍스트 정보를 저장합니다. 주로 도메인 소유권 확인(Domain Verification), 이메일 보안 정책(SPF, DKIM, DMARC) 설정 등에 사용됩니다.
    -   **설정 예시 (도메인 소유권 확인):**
        -   호스트/이름: `@` 또는 특정 서브도메인
        -   유형: `TXT`
        -   값/텍스트: 서비스 제공자(Vercel 등)가 요구하는 특정 인증 문자열
-   **`MX` 레코드 (Mail Exchanger Record):**
    -   **역할:** 해당 도메인의 이메일을 처리하는 메일 서버를 지정합니다.

## 4. DNS 전파 (DNS Propagation)

DNS 레코드를 변경하면, 변경된 정보가 전 세계의 모든 DNS 서버에 업데이트되기까지 시간이 걸립니다. 이 과정을 DNS 전파라고 합니다. 전파 시간은 DNS 서버들의 캐시 설정(TTL 값 등)에 따라 다르며, 짧게는 몇 분에서 길게는 48시간까지 걸릴 수 있습니다. 이 시간 동안에는 일부 사용자는 변경 전 정보를, 다른 사용자는 변경 후 정보를 받을 수 있습니다. 따라서 DNS 변경 후에는 일정 시간 동안 기다리며 연결 상태를 확인해야 합니다.

사용자 정의 도메인을 웹 서비스에 연결하는 것은 DNS 시스템의 작동 원리를 이해하고 올바른 DNS 레코드를 설정하는 과정입니다. Vercel과 같은 플랫폼은 이 과정을 최대한 간소화하여 안내해주지만, 기본적인 DNS 개념을 알아두면 문제 해결에 도움이 됩니다. 