# 개념 4: 기본 페이지네이션 컴포넌트 UI 구현

## 페이지네이션(Pagination)이란?

페이지네이션은 많은 양의 데이터를 여러 페이지로 나누어 보여주는 사용자 인터페이스(UI) 패턴입니다. 예를 들어, 수백 개의 제품 목록이나 게시글을 한 페이지에 모두 표시하면 로딩 시간이 길어지고 사용자가 정보를 탐색하기 어려워집니다. 페이지네이션은 데이터를 적절한 크기(예: 페이지당 10개 또는 20개)로 분할하고, 사용자가 페이지 번호를 클릭하거나 "다음"/"이전" 버튼을 통해 다른 데이터 페이지로 이동할 수 있도록 합니다.

## 페이지네이션의 필요성

*   **성능 향상:** 한 번에 적은 양의 데이터만 로드하므로 초기 페이지 로딩 속도가 빨라집니다.
*   **사용자 경험(UX) 개선:** 사용자는 압도적인 정보량 대신 관리 가능한 데이터 청크를 탐색할 수 있습니다.
*   **서버 부하 감소:** 서버는 전체 데이터가 아닌 요청된 페이지의 데이터만 처리하면 되므로 부하가 줄어듭니다.

## 일반적인 페이지네이션 UI 구성 요소

페이지네이션 컴포넌트는 일반적으로 다음과 같은 요소들을 포함합니다:

*   **페이지 번호 링크:** 사용자가 특정 페이지로 직접 이동할 수 있는 숫자 링크 (예: 1, 2, 3, ...).
*   **"다음" 및 "이전" 버튼:** 현재 페이지 기준으로 앞뒤 페이지로 이동하는 버튼.
*   **"처음" 및 "마지막" 버튼 (선택 사항):** 목록의 가장 첫 페이지 또는 마지막 페이지로 바로 이동하는 버튼.
*   **현재 페이지 표시:** 사용자가 현재 보고 있는 페이지 번호를 시각적으로 강조합니다.
*   **생략 부호 (...):** 페이지 수가 매우 많을 경우, 중간 페이지 번호들을 생략하고 표시하여 UI를 간결하게 유지합니다.

Shadcn/ui 라이브러리에도 `Pagination` 컴포넌트가 포함되어 있어 이를 활용하면 기본적인 스타일과 구조를 쉽게 구현할 수 있습니다.

## Remix에서의 페이지네이션 구현 방식

Remix에서 페이지네이션을 구현하는 일반적인 접근 방식은 다음과 같습니다:

1.  **URL 파라미터 사용:** 현재 페이지 번호 정보를 URL의 쿼리 파라미터(Query Parameter)를 통해 전달합니다. (예: `/products?page=2`)
2.  **`loader` 함수에서 페이지 정보 읽기:** `loader` 함수는 `request.url`을 통해 URL 쿼리 파라미터를 읽고, 현재 페이지 번호를 파악합니다.
3.  **데이터 조회 시 `limit` 및 `offset` 사용:** Drizzle ORM (또는 다른 데이터 조회 방법) 사용 시, `loader`에서 파악한 페이지 번호를 기반으로 `limit`(페이지당 항목 수)과 `offset`(건너뛸 항목 수) 값을 계산하여 해당 페이지의 데이터만 조회합니다.
4.  **총 항목 수 및 페이지 수 계산:** `loader` 함수는 요청된 페이지의 데이터뿐만 아니라, 전체 항목 수(또는 전체 페이지 수)도 계산하여 페이지네이션 컴포넌트를 렌더링하는 데 필요한 정보를 함께 반환합니다.
5.  **페이지네이션 UI 컴포넌트 렌더링:** 페이지 컴포넌트는 `useLoaderData`를 통해 데이터와 페이지 정보를 받아옵니다. 이 정보를 기반으로 페이지네이션 UI 컴포넌트(예: Shadcn/ui의 `Pagination`)를 렌더링합니다.
6.  **페이지 이동 처리:** 페이지네이션 컴포넌트의 각 페이지 번호 링크나 버튼은 해당 페이지 번호를 포함하는 새로운 URL(예: `/products?page=3`)로 사용자를 이동시킵니다. Remix는 이 URL 변경을 감지하고 해당 라우트의 `loader` 함수를 다시 실행하여 새 페이지의 데이터를 로드합니다.

## UI 컴포넌트 구현 시 고려사항

*   **재사용성:** 페이지네이션 로직은 제품 목록, 게시글 목록 등 여러 곳에서 필요할 수 있으므로, 재사용 가능한 컴포넌트로 만드는 것이 좋습니다.
*   **상태 관리:** 현재 페이지, 전체 페이지 수 등의 상태를 컴포넌트 내부 또는 외부(props 전달)에서 관리하는 방식을 결정해야 합니다.
*   **접근성:** 키보드 네비게이션 및 스크린 리더 사용자를 고려하여 시맨틱 HTML과 적절한 ARIA 속성을 사용해야 합니다.
*   **디자인:** 데모 사이트 또는 애플리케이션의 전반적인 디자인 시스템과 일관성을 유지합니다.

다음 작업에서는 Shadcn/ui의 `Pagination` 컴포넌트를 기반으로 기본적인 페이지네이션 UI 컴포넌트(`app/components/ui/PaginationControls.tsx` 등)를 생성하는 코드를 작성합니다. 초기에는 데이터 연동 없이 UI 구조와 스타일링에 집중합니다. 