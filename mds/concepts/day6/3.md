# 작업 3 개념: Layout Routes 개념 이해 및 적용

Remix의 Layout Routes는 웹 애플리케이션에서 공통 UI 구조를 효과적으로 관리하고 코드 중복을 줄이기 위한 강력한 기능입니다. 특정 경로 그룹에 속하는 여러 페이지가 동일한 레이아웃(예: 사이드바, 탭 네비게이션, 섹션 헤더)을 공유할 때 사용됩니다.

## Layout Route의 작동 방식 (Flat Routes 기준)

1.  **파일 이름 규칙:** 특정 경로 세그먼트 내에서 `_layout.tsx` 라는 이름의 파일을 생성하면, Remix는 이 파일을 해당 경로 세그먼트의 **레이아웃 라우트**로 인식합니다.
    *   예시: `app/routes/dashboard._layout.tsx` 는 `/dashboard/*` 경로 그룹의 레이아웃을 정의합니다.
    *   파일 이름에 점(`.`)을 사용하여 더 깊은 경로에도 적용할 수 있습니다. 예: `app/routes/settings.profile._layout.tsx` 는 `/settings/profile/*` 경로의 레이아웃을 정의합니다.

2.  **`<Outlet />` 컴포넌트:** 레이아웃 라우트 파일 (`_layout.tsx`) 내부에 작성하는 컴포넌트는 반드시 React Router의 `<Outlet />` 컴포넌트를 포함해야 합니다.
    *   `<Outlet />`은 "플레이스홀더" 역할을 합니다. 이 레이아웃을 공유하는 하위 라우트(예: `dashboard._index.tsx`, `dashboard.analytics.tsx`)의 컴포넌트 내용이 바로 이 `<Outlet />` 위치에 렌더링됩니다.

3.  **레이아웃 중첩:** 레이아웃은 중첩될 수 있습니다. 예를 들어, `app/root.tsx` (최상위 레이아웃) 안에 `app/routes/dashboard._layout.tsx` (대시보드 레이아웃)가 렌더링되고, 그 안에 다시 `app/routes/dashboard.settings._layout.tsx` (대시보드 설정 레이아웃)가 렌더링될 수 있습니다. 각 레이아웃은 자신의 `<Outlet />`을 통해 하위 레이아웃 또는 페이지 내용을 표시합니다.

## Layout Route의 장점

*   **코드 중복 감소:** 여러 페이지에서 반복되는 레이아웃 코드를 하나의 `_layout.tsx` 파일에서 관리할 수 있습니다.
*   **관심사 분리:** 페이지의 고유한 내용과 공통 레이아웃 구조를 분리하여 코드 가독성과 유지보수성을 높입니다.
*   **상태 유지:** 사용자가 같은 레이아웃을 공유하는 다른 페이지로 이동할 때, 레이아웃 컴포넌트 자체는 다시 렌더링되지 않을 수 있습니다. 이는 레이아웃 내의 상태(예: 스크롤 위치, 특정 UI 상태)를 유지하는 데 도움이 될 수 있습니다. (Remix의 기본 동작 및 최적화에 따라 다를 수 있음)
*   **데이터 로딩:** 레이아웃 라우트도 자체 `loader` 함수를 가질 수 있습니다. 이를 통해 해당 레이아웃 및 그 하위 모든 라우트에서 필요한 공통 데이터를 미리 로드할 수 있습니다. (예: 사이드바에 표시될 사용자 정보)

## 사용 시 고려사항

*   **적절한 추상화 수준:** 너무 많은 레이아웃 중첩은 오히려 구조를 복잡하게 만들 수 있습니다. 공통 UI가 실제로 필요한 경로 그룹에만 레이아웃을 적용하는 것이 좋습니다.
*   **재사용 가능한 UI 컴포넌트와의 구분:** Layout Route는 **경로 구조**에 따른 레이아웃을 정의합니다. 반면, 여러 다른 경로에서 독립적으로 재사용될 수 있는 UI 패턴(예: `FormLayout`, `Card`)은 `app/components/layouts` 등에 일반 컴포넌트로 만들고 필요한 곳에서 import하여 사용하는 것이 더 적합할 수 있습니다. (prompt.md 지침 참조)

이 Layout Routes 개념을 이해하고 적절히 활용하면, 복잡한 애플리케이션의 UI 구조를 체계적으로 관리하고 개발 생산성을 높일 수 있습니다. 